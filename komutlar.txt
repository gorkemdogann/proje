
Pipenv ile Django 2.2.5 Kurulum

super user: grkm
ÅŸifre: 11091993

grkmdgn06@ubuntu:~/Desktop/teoman$ pipenv shell
Launching subshell in virtual environmentâ€¦
grkmdgn06@ubuntu:~/Desktop/teoman$  . /home/grkmdgn06/.local/share/virtualenvs/teoman-oagTYDUc/bin/activate
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ pipenv install Django
Installing Djangoâ€¦
Adding Django to Pipfile's [packages]â€¦
âœ” Installation Succeeded 
Pipfile.lock not found, creatingâ€¦
Locking [dev-packages] dependenciesâ€¦
Locking [packages] dependenciesâ€¦
Building requirements...
Resolving dependencies...
âœ” Success! 
Updated Pipfile.lock (a6086c)!
Installing dependencies from Pipfile.lock (a6086c)â€¦
  ğŸ   â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰ 0/0 â€” 00:00:00
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$  
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ ls
Pipfile  Pipfile.lock
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ nano Pipfile

(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ python -m django --version
3.0.8
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ django-admin startproject teoman .
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ ls
manage.py  Pipfile  Pipfile.lock  teoman
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ python manage.py runsever
Unknown command: 'runsever'. Did you mean runserver?
Type 'manage.py help' for usage.
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ python manage.py runserver
Watching for file changes with StatReloader
Performing system checks...

System check identified no issues (0 silenced).

You have 17 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.

July 03, 2020 - 14:52:29
Django version 3.0.8, using settings 'teoman.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
[03/Jul/2020 14:52:31] "GET / HTTP/1.1" 200 16351
^C(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ python manage.py migrate
Operations to perform:
  Apply all migrations: admin, auth, contenttypes, sessions
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying auth.0001_initial... OK
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying auth.0002_alter_permission_name_max_length... OK
  Applying auth.0003_alter_user_email_max_length... OK
  Applying auth.0004_alter_user_username_opts... OK
  Applying auth.0005_alter_user_last_login_null... OK
  Applying auth.0006_require_contenttypes_0002... OK
  Applying auth.0007_alter_validators_add_error_messages... OK
  Applying auth.0008_alter_user_username_max_length... OK
  Applying auth.0009_alter_user_last_name_max_length... OK
  Applying auth.0010_alter_group_name_max_length... OK
  Applying auth.0011_update_proxy_permissions... OK
  Applying sessions.0001_initial... OK
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ 

Visual Studio Code: venv Ã§agÄ±rmak iÃ§in: pipenv shell

grkmdgn06@ubuntu:~/Desktop/teoman$ pipenv shell
Launching subshell in virtual environmentâ€¦
 . /home/grkmdgn06/.local/share/virtualenvs/teoman-oagTYDUc/bin/activate
grkmdgn06@ubuntu:~/Desktop/teoman$  . /home/grkmdgn06/.local/share/virtualenvs/teoman-oagTYDUc/bin/activate
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ 

********************************************** 
Ä°lk Ders Bitti..
********************************************** 


models.py iÃ§indeki 
class Meta:
        # verbose_name = "Blog'larÄ±m"
# burda meta'da verbose_name vermemzini amcÄ± admin sayfasÄ±nda 'Blogs'
# yazÄ±yor s takÄ±sÄ± alÄ±yor. bunu engellemek iÃ§in yapÄ±yoruz..
# verbose_name = "Blog'larÄ±m" yazdÄ±m Blog'larÄ±ms yazdÄ± 's' takÄ±sÄ±nÄ± silmek iÃ§in:



********************************************** 
SanallaÅŸtÄ±rma (Virtualization), KonteynÄ±rlaÅŸtÄ±rma(Containers) ve Docker Nedir ?

pipenv shell




******************************************
14. ORM YapÄ±sÄ± KullanÄ±larak VeritabanÄ±n KayÄ±t Ä°ÅŸlemi

python manage.py shell
Python 3.8.2 (default, Apr 27 2020, 15:53:34) 
[GCC 9.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from blog.models import Blog
>>> blog = Blog()
>>> blog.title = 'JavaScript'
>>> blog.title()
Traceback (most recent call last):
  File "<console>", line 1, in <module>
TypeError: 'str' object is not callable
>>> blog = Blog
>>> blog.title()
Traceback (most recent call last):
  File "<console>", line 1, in <module>
TypeError: 'DeferredAttribute' object is not callable
>>> blog.title
<django.db.models.query_utils.DeferredAttribute object at 0x7fef6d8ead60>
>>> blog.title = 'JavaScript'
>>> blog.title
'JavaScript'
>>> blog.content = 'qweqwewqeqeqweqe'
>>> blog.content
'qweqwewqeqeqweqe'
>>> blog.content
'qweqwewqeqeqweqe'
>>> blog = Blog(title='qwqeqeq', content = 'qweqweqweasd as das das dasd')
>>> blog
<Blog: qwqeqeq>
>>> print(blog)
qwqeqeq
>>> blog.save()
>>> blog.title = 'baÅŸlÄ±k GÃ¼ncelleyelim'
>>> blog.save()
>>> x = Blog.objects.create(title='deneme shell', content='qweqweqweasd sfdfgdfg')
>>> print(x)
deneme shell
>>> 

******************************************
15. ORM YapÄ±sÄ±nda Filter , All ve Exclude Fonksiyonu





******************************************
18. Template DeÄŸiÅŸkenleri ve Render Fonksiyonu

return render(request,'blog/post-list.html', context={'teoman': selam, 'knk' : deneme})
views.py iÃ§i
burda gÃ¶rdÃ¼ÄŸÃ¼mÃ¼z gibi blog/html sÃ¶yledik bunu anlamasÄ±nÄ±n sebebi settings. py iÃ§indeki 

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [os.path.join(BASE_DIR, 'template')],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

157. satÄ±r Base dir sÃ¶yledik


    return render(request,'blog/post-list.html', context={'teoman': selam, 'knk' : deneme})
# bu teomanÄ± ve knk html'de Ã§ekiyoruz

html'de:
    <p>{{ teoman|length }}</p>
bu length yazdÄ±gÄ±mÄ±zda 30 yazÄ±yor yani view tanÄ±mladÄ±gÄ±mÄ±z teomanÄ±n
30 karakterden olustugunu bize sÃ¶ylÃ¼yor


    <p>{{ teoman|upper }}</p>
bu ise tÃ¼m yazÄ±yÄ± bÃ¼yÃ¼k harfe dÃ¶nÃ¼ÅŸtÃ¼rÃ¼yor


    <p>{{ liste|join:'-' }} </p>
1-2-3-4-5-6-7

    <p>{{ liste|join:'*' }} </p>
1*2*3*4*5*6*7

    <p>{{ liste|join:'~' }} </p>
1~2~3~4~5~6~7



******************************************
19. Template'de FOR ve Ä°F Taglarinin KullanÄ±lmasÄ±




******************************************
25. request.GET Methodu'nun Ä°ncelenmesi

link'de ? soru iÅŸaretinden sonra birÅŸey yazÄ±dgÄ±mÄ±z zaman bunun get ifadesi
oldugunu anlamalÄ±yÄ±m:

tabi views.py iÃ§indeki post list te     print(request.GET)
yazÄ±yoruz terminalde gÃ¶rÃ¼ntÃ¼leye bilmek iÃ§in

http://127.0.0.1:8000/posts/?deneme=gorkem
bu linke gittigimizde deneme adÄ±nda bir deÄŸiÅŸken var,  gorkem'de value oluyor
terminalde her f5 ledigimde 
<QueryDict: {'deneme': ['gorkem']}>
yazÄ±yor

sÃ¶zlÃ¼k ÅŸeklinde geliyor, 

    print(request.GET['deneme'])
yazdÄ±gÄ±mÄ±zda direk value geliyor yani gorkem

http://127.0.0.1:8000/posts/
yzdÄ±gÄ±mÄ±zda Hata alÄ±yoruz
MultiValueDictKeyError at /posts/
bÃ¶yle bir key olmadÄ±gÄ± iÃ§in deneme patladÄ±

http://127.0.0.1:8000/posts/?deneme
yazdÄ±gÄ±mÄ±zda posts sayfasÄ±na gitti value vermesekte gitti

o yÃ¼zden bÃ¶yle yapmak yerine: gelen_deger = request.GET['deneme']
yerine:
gelen_deger = request.GET.get('deneme')



******************************************
26. Form SÄ±nÄ±fÄ±ndan Form OluÅŸturmak





******************************************
28. OluÅŸturulan Formun View ve Templattede KullanÄ±lmasÄ± Ders -2

bu video'da html'de boÅŸluklarÄ± internet chrome consoldan ayarÄ± gÃ¶steriyor


  <label for="{{field.id_for_label}}" class="control-label"> {{ field.label }} </label>
id_for_label yaptÄ±gÄ±mÄ±zda sayfanÄ±n kutucuguna deÄŸilde sol labellarÄ±na tÄ±klayÄ±ncada kutucuga geÃ§iyor



******************************************
30. OluÅŸturulan Formun View ve Templattede KullanÄ±lmasÄ± Ders -4

is_valid form'dan gelen veri doÄŸrumu yanlÄ±ÅŸmÄ±? onu gÃ¶steriyor


cleaned_data : form'dan girilen verilere eriÅŸmek iÃ§in, cleaned_data
yapÄ±sÄ±nÄ± kullanÄ±yoruz. taze veri doÄŸrulugu geÃ§erli verileri kullanÄ±yoruz 




******************************************
32. Django Forms ;Validation (DoÄŸrulama) , Clean_Fields Methodu KullanÄ±mÄ±

forms.py iÃ§inde
  eÄŸer ahmet adÄ±nda birisi giriÅŸ yaptÄ±gÄ±nda raise:fÄ±rlat ValidationError hatasÄ± ver diyoruz
sonra view.py geliyor is_valid burda ahmet geldiginde False deÄŸeri dÃ¶nÃ¼yor ve ekranÄ±n sagÄ±nda yazmÄ±yor.
views.py iÃ§inde is_valid print ettik bakalÄ±m diye ilk ahmeti yazdÄ±gÄ±mda False dedi

[12/Jul/2020 19:43:01] "GET /iletisim/?isim=ahmet&soyisim=wewqeqwe&email=grkmdgn06%40gmail.com&icerik=dfsfmmfyunfyj HTTP/1.1" 200 3101
False

[12/Jul/2020 19:43:05] "GET /iletisim/?isim=dsf&soyisim=wewqeqwe&email=grkmdgn06%40gmail.com&icerik=dfsfmmfyunfyj HTTP/1.1" 200 3102
True



******************************************
33. Django Forms ; Validations (DoÄŸrulama) , Clean Method

add_error





******************************************
34. Django Forms __init__ methodu ve widget Ã¶zelliÄŸi Ders -1

widget=forms.Select(attrs={'class':'form-control'})

widget=forms.TextInput(attrs={'class':'form-control'})

burda Select yaparak belli bir ÅŸeyi sÃ¶ylÃ¼yoruz bu Ã¶nemli iÅŸe yarar!

forms.py:

class IletisimForm(forms.Form):
    isim = forms.CharField(widget=forms.TextInput(attrs={'class':'form-control'}), max_length=50, label='Ä°sim', required=False)
    soyisim = forms.CharField(max_length=50, label='Soyisim', required=False)
    email = forms.EmailField(max_length=70, label='E-mail', required=True)
    email2 = forms.EmailField(max_length=70, label='E-mail DoÄŸrulama', required=True)
    icerik = forms.CharField(widget=forms.Textarea(attrs={'class':'form-control'}), max_length=1000, label='Ä°Ã§erik')

    def __init__(self, *args, **kwargs):

        super(IletisimForm, self).__init__(*args, **kwargs)
        # bu super Ã§alÄ±ÅŸÄ±trÄ±gÄ±mÄ±z zaman bunlara eriÅŸebiliyorum:
        # self.fields bÃ¼tÃ¼n form elemanlarÄ±ma eriÅŸmeme yardÄ±mcÄ± oluyor 
        # ÅŸimdi IletisimForm'daki lerin widget larÄ±nÄ±n attrs eriÅŸerek class form-control atÄ±cam
        for field in self.fields:
            # field'da key geliyor!

            # print(field)
            # isim
            # soyisim
            # email
            # email2
            # icerik

            # peki bunlarÄ±n value lerini nasÄ±l Ã§ekicem
            print(field ,self.fields[field])
            # isim <django.forms.fields.CharField object at 0x7fdbde3ebcd0>
            # soyisim <django.forms.fields.CharField object at 0x7fdbde3fad90>
            # email <django.forms.fields.EmailField object at 0x7fdbde3fadf0>
            # email2 <django.forms.fields.EmailField object at 0x7fdbde3fad60>
            # icerik <django.forms.fields.CharField object at 0x7fdbde3fae80>

            # bunu neden yapÄ±yoruz: herbir elemanÄ±n widget'Ä±nÄ±n attrs 
            self.fields[field].widget.attrs = {'class':'form-control'}


******************************************
35. Django Forms __init__ methodu ve widget Ã¶zelliÄŸi Ders -2

  isim = forms.CharField(widget=forms.TextInput(attrs={'class':'form-control'}), max_length=50, label='Ä°sim', required=False)

istersek bÃ¶yle yazabiliriz istersekte init ve superi kullnarak!

 


******************************************
38. Django Model Form KullanÄ±mÄ± (CREATE) DERS -2

eÄŸer postumuzu post edeceksek csrf token yapmamÄ±z lazÄ±m!

views.py 67. satÄ±r
<QueryDict: {'csrfmiddlewaretoken': ['6nyIxe7eaidYMUIvyqUjq54HniEkr8TwPyd1E4F545cyFSN0x88ez4yt7tC8zERt'], 'title': ['asdasda'], 'content': ['dasdasdasdasd']}>
[12/Jul/2020 22:49:14] "POST /posts/post-create/ HTTP/1.1" 200 2744




******************************************
41. get_object_or_404 Fonksiyonunun KullanÄ±mÄ±


def post_detail(request, id):
    try:
        blog = Blog.objects.get(id=id)
    except Blog.DoesNotExist:
        #return HttpResponse('BÃ¶yle Bir Sayfa BulunamadÄ±..')
        raise Http404

bÃ¶ylede yazabiliriz birde 2. yol var:


******************************************
42. Viewlar ArasÄ±nda GeÃ§iÅŸ Yapma Ä°ÅŸlemi

HttpResponseRedirect: 
  kendisinin aldÄ±gÄ±, kendisine gelen adresi, alarak o adrese yÃ¶neliyor


******************************************
43. get_absolute_url Methodu

get_absolute_url: 


******************************************
44. Post GÃ¼ncelleme Ä°ÅŸlemi

instance: 
deÄŸeri vermezsen view.py de
gÃ¼ncelleyecegin sayfanÄ±n yazÄ±sÄ± gÃ¶zÃ¼kmÃ¼yor boÅŸ bir sayfa dÃ¶nderiyor
instance sil anlarsÄ±n!
instance bir nesne aktardÄ±gÄ±mÄ±z  iÃ§in buda bir model form oldugu iÃ§in
model formun alanlarÄ±nÄ± kendisi aldÄ±


******************************************
45. Post Silme Ä°ÅŸlemi

linebreaksbr: template, content alanÄ±na yazdÄ±k bu satÄ±r baÅŸÄ±na atladÄ±gÄ±mÄ±zda 
boÅŸluk biraÄ±ktÄ±gÄ±mÄ±zda gÃ¶stermiyordu o iÅŸe yarÄ±yor


******************************************
46. Django Messages Framework Ders-1






******************************************
47. Django Messages Framework Ders-2



        <div class="row">
            <div class="col-lg-8" style="float: none; margin:0 auto">
                {% if messages %}
                <div>
                    {% for message in messages %}
                    <div class="alert alert-success">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a> {{ message|safe }}
                        <!-- burda safe kullanmamÄ±zÄ±n sebebi views.deki stronlarÄ± gÃ¶stermek iÃ§in -->
                        <!-- safe: ÅŸu iÅŸi yapÄ±yor, html tabanlÄ± kodlarÄ± kendi html yapÄ±sÄ±na Ã§eviriyor -->
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>



******************************************
48. Slug Nedir , Slugify Methodunun KullanÄ±mÄ±

(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ python manage.py shell
Python 3.8.2 (default, Apr 27 2020, 15:53:34) 
[GCC 9.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from django.template.defaultfilters import slugify
>>> deneme = "Merhaba GÃ¶rkem"
>>> deneme
'Merhaba GÃ¶rkem'
>>> slugify(deneme)
'merhaba-gorkem'
>>> deneme = 'Bayram GÃ¶rkem DoÄŸan Rabia Polat'
>>> slugify(deneme)
'bayram-gorkem-dogan-rabia-polat'
>>> deneme = 'Åehir Ã§ok gÃ¼zel'
>>> slugify(deneme)
'sehir-cok-guzel'  burda gÃ¶rdÃ¼gÃ¼mÃ¼z gibi tÃ¼rkÃ§e karakterleri deÄŸiÅŸtiriyor
>>> deneme = 'Ä°stanbul Ã§ok gÃ¼zel'
>>> slugify(deneme)
'istanbul-cok-guzel'
**** ÅŸimdide kÃ¼Ã§Ã¼k 'Ä±' ile yapalÄ±m
>>> deneme = 'Ä±stanbul Ã§ok gÃ¼zel'
>>> slugify(deneme)
'stanbul-cok-guzel'
**** burda gÃ¶rÃ¼ndÃ¼gÃ¼ gibi kÃ¼Ã§Ã¼k Ä± yi gÃ¶stermedi!
**** bunun Ã¶nÃ¼ne geÃ§ebilmek iÃ§in

>>> deneme = deneme.replace('Ä±','i')
>>> slugify(deneme)
'istanbul-cok-guzel'

2. yÃ¶ntem:
    pip install Unidecode
    



******************************************
50. SlugField Unique HatasÄ±

sonlarÄ±nda aynÄ± baÅŸlÄ±klÄ± bir post ekledigimizde 
IntegrityError at /posts/post-create/
UNIQUE constraint failed: blog_blog.slug

hatasÄ± alÄ±yoruz...

******************************************
51. SlugField Unique Slug Ã‡Ã¶zÃ¼m

mesala:

bayram-gÃ¶rkem-dogan
var diyelim tekrar aynÄ±sÄ±ndan oluÅŸturdugumuzda hata alÄ±yorduk unique hatasÄ±
o yÃ¼zden sonlarÄ±na -1 ekliyecez
mesela: 
bayram-gÃ¶rkem-dogan-1
bayram-gÃ¶rkem-dogan-2
bayram-gÃ¶rkem-dogan-3
....

6. dk sonra 
gorkem-dogan-rabia-polat-goktug-a-dogan-1-2/

oluyor 1-2-3-4 gibi diyor bunu halledelim:



******************************************
52. SlugField BaÅŸlÄ±k GÃ¼ncelleme

baÅŸÄ±gÄ± gÃ¼ncelleyince gÃ¼ncellenmiyor bunuda yapalÄ±m:



******************************************
53. Many To Many YapÄ±sÄ±na GiriÅŸ

    yazdÄ±gÄ±m gÃ¶nderi birden fazla katagori iÃ§erebilir..
    benim katogorimde birden fazla post'ada hitap edebilir



******************************************
54. Many To Many KullanÄ±mÄ±

Teminalden:
(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ python manage.py shell
Python 3.8.2 (default, Apr 27 2020, 15:53:34) 
[GCC 9.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from blog.models import Blog,Kategori
>>> b1 = Blog.objects.get(slug='python-nedir-1')
>>> b1
<Blog: Python Nedir ?>
>>> k1 = Kategori.objects.get(isim='Python')
>>> k1
<Kategori: Python>

>>> b1.kategoriler.add(k1)  #ekledik

>>> b1.kategoriler
<django.db.models.fields.related_descriptors.create_forward_many_to_many_manager.<locals>.ManyRelatedManager object at 0x7f1298a50ee0>

>>> b1.kategoriler.all()
<QuerySet [<Kategori: Python>]>
# yeni bir Kategori oluÅŸturdu aynÄ± zamanda b1 ekledi
>>> b1.kategoriler.create(isim='bilisim')
<Kategori: bilisim>
>>> b1.kategoriler.all()
<QuerySet [<Kategori: Python>, <Kategori: bilisim>]>

# tÃ¼m kategorilerimize bakalÄ±m:
>>> Kategori.objects.all()
<QuerySet [<Kategori: YazÄ±lÄ±m>, <Kategori: Python>, <Kategori: Django>, <Kategori: bilisim>]>

>>> b2 = Blog.objects.get(slug='gorkem-dogan-rabia-polat-goktug-a-dogan')
>>> b2
<Blog: GÃ–RKEM DOÄAN RABIA POLAT GÃ–KTUG a DOGAN>

>>> b2.kategoriler.all()
<QuerySet []>
# b2. kategorileri yok boÅŸ dÃ¶ndÃ¼!

>>> k2 = Kategori.objects.get(id=2)
>>> k2
<Kategori: Python>
>>> k2 = Kategori.objects.get(id=3)
>>> k2
<Kategori: Django>

>>> b2.kategoriler.add(k1,k2)
>>> b2.kategoriler.all()
<QuerySet [<Kategori: Python>, <Kategori: Django>]>

>>> b1.kategoriler.all()
<QuerySet [<Kategori: Python>, <Kategori: bilisim>]>

>>> b1.kategoriler.create(isim='Php')
<Kategori: Php>

>>> b1.kategoriler.all()
<QuerySet [<Kategori: Python>, <Kategori: bilisim>, <Kategori: Php>]>

# ÅŸimdi yapacagÄ±mÄ±z k1, katogorisinin hangi post'larda kullanÄ±ldÄ±gÄ±na bakarsak
>>> k1.blog_set.all()
<QuerySet [<Blog: Python>, <Blog: Python Nedir ?>, <Blog: GÃ–RKEM DOÄAN RABIA POLAT GÃ–KTUG a DOGAN>]>

# eÄŸer blog_set yapmak istemezsek modelimizde kategoriler'e related_name='blog' olarak ekleme yapÄ±caz
sonra tekrar terminal ekranÄ±mÄ±za gidip:

(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ python manage.py shell
Python 3.8.2 (default, Apr 27 2020, 15:53:34) 
[GCC 9.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from blog.models import Kategori,Blog



******************************************
58. Resimleri Post List ve Post Detay SayfasÄ±nda GÃ¶rÃ¼ntÃ¼leme
    burda image olmauyan posltara giremedik
    template'imizde detailde 

        {% if blog.image %}
            <div class="thumbnail">
                <img src="{{blog.image.url}}">
            </div>
        {% endif %}


bÃ¶yle yazabiliriz veya models.py iÃ§inde:

def get_image(self):

    if self.image:
        return self.image.url

    else:
        return None



******************************************
59. VarsayÄ±lan Resim GÃ¶rÃ¼ntÃ¼leme

truncatechars:200
bu template gÃ¶zÃ¼kecek karakter sayÄ±sÄ±nÄ± sÃ¶ylÃ¼yor


******************************************
60. Ä°Ã§erik AlanÄ±nÄ±n DoÄŸrulanmasÄ± (clean_icerik)

blank= True: bu alan form'lardan geldigi zaman boÅŸ olabilir



******************************************
61. upload_to Ã–zelliÄŸini KullanÄ±mÄ± Ders -1

upload_to fonk: media klasÃ¶rÃ¼ iÃ§inde dosyamÄ±zÄ±n
ne ÅŸekilde yÃ¼klenecegini yani yolunu belirtiyoruz.

image = models.ImageField(blank=True, default='default/python_django.jpg', upload_to='blog', verbose_name='Resim', null=True, help_text='Kapak FotoÄŸrafÄ± YÃ¼kleyiniz')

upload_to fonk. bÃ¶yle yazabiliriz. baÅŸka bir yolu daha var?




******************************************
68. Bootstrap KullanÄ±larak Base.html SayfamÄ±zÄ± DÃ¼zenleme

link : https://getbootstrap.com/docs/3.3/components/

navbar-fixed-top var, bu navbarÄ±n aÅŸagÄ±ya yukarÄ±ya gitsekde sabit kalmasÄ±nÄ± saglÄ±yor

Beyaz navbarÄ±mÄ±zÄ± : siyaha Ã§evirmek iÃ§in

navbar-default'u - navbar-inverse yaptÄ±k




******************************************
69. Arama Ä°ÅŸlemi Ders -1
 NAvbarÄ±mÄ±zda olan searc i kaldÄ±rÄ±yoruz: base.html'den

    <form class="navbar-form navbar-left">
        <div class="form-group">
            <input type="text" class="form-control" placeholder="Arama..">
        </div>
        <button type="submit" class="btn btn-default">Ara</button>
    </form>







******************************************
72. Blog Modelimizi Sayfalama Ders -1


    paginator = Paginator(posts,4) # burda 4 post bir sayfada olacak diyoruz.
    posts = paginator.page(page) # bu page() iÃ§ine template'den bir sayÄ± gelecek o yÃ¼zden gelen sayÄ±yÄ± 39. satÄ±rdan alÄ±caz

PAGÄ°NATOR yaptÄ±k ama link'te page=3424 girdigimizde bÃ¶yle sayfa olmadÄ±gÄ± iÃ§in EmptyPage hatasÄ± aldÄ±k, sayÄ±sal bir deger yerine str girdigimizde 'WQEqweqw' GÄ°BÄ° PageNotAnInteger hatasÄ± aldÄ±k
o yÃ¼zden try except blogonu kullanÄ±caz:



                    {% if posts.has_other_pages %}
                    <ul class="pagination">
                        {% if posts.has_previous %}
                        <li><a href="?page={{ posts.previous_page_number }}"> &laquo;</a></li>
                        {%else%}
                        <li class="disabled"><span>&laquo;</span></li>
                        {% endif %}
                        <!--  -->
                        {% for i in posts.paginator.page_range %}
                        <!--  -->
                        {% if posts.number == i %}
                        <li class="active">
                            <span>
                                 {{i}}
                                  <span class="sr-only">
                                      (current)
                                  </span>
                            </span>
                        </li>
                        {%else%}
                        <li><a href="?page={{i}}"> {{i}} </a></li>
                        {% endif %}
                        <!--  -->
                        {% endfor %}
                        <!--  -->
                        {% if posts.has_next %}
                        <li>
                            <a href="?page={{ posts.next_page_number }}">&raquo;</a>
                        </li>
                        {% else %}
                        <li class="disabled"><span>&raquo;</span></li>
                        {% endif %}
                    </ul>
                    {% endif %}





**************************************
76. CkEditor KullanÄ±mÄ± Ders-2

truncatechars:250 demek 250 harf sayÄ±sÄ±,
truncatewords:250 demek 250 kelime,





****************************************
80. Yorum Sistemi OluÅŸturmak (Yorum Listeleme ) Ders-3







from django.shortcuts import render, reverse, HttpResponseRedirect
from .forms import *
from django.contrib.auth import authenticate, login
from django.contrib import messages


def register(request):
    form = RegisterForm(data=request.POST or None)
    
    if form.is_valid():
        user = form.save(commit=False)
        password = form.cleaned_data.get('password')
        username = form.cleaned_data.get('username')
        user.set_password(password)
        user.save()
        user = authenticate(username=username,password=password)

        if user:
            if user.is_active:
                login(request,user)
                messages.success(request, 'Tebrikler KaydÄ±nÄ±z BaÅŸarÄ±yla GerÃ§ekleÅŸti.')

                return HttpResponseRedirect(reverse('post-list'))
                # reverse ile post-list sayfamÄ±za yÃ¶nlendirdik.

    return render(request, 'auths/register.html', context={'form':form})





****************************************
90. User Login (With Login Email ) Ders -3

bu derste login olurken hem username hemde email ile giriÅŸ yapma





****************************************
92. is_authenticated ve is_anonymous FonksiyonlarÄ±nÄ±n KullanÄ±mÄ±



is_authenticated : true deÄŸeri dÃ¶ndÃ¼rÃ¼yor kullanÄ±cÄ± giriÅŸ yaptÄ±gÄ±nda


is_anonymous: ise false deÄŸeri dÃ¶ndÃ¼rÃ¼yor authen.. tam tersi
yani kimligi olmayan kiÅŸi giriÅŸi yapÄ±lmayan

is_anonymous = not is_authenticated ### EÅÄ°TTÄ°R. anonymous kullanmÄ±yalÄ±m.




****************************************
93. Decoratorler Ä°le Ã‡alÄ±ÅŸmak

link : https://www.thecodeship.com/patterns/guide-to-python-function-decorators/




****************************************
95. Anonymous Required Decorator

sisteme giriÅŸ yapan kullanÄ±cÄ±, bir daha login syf. gitmemeli. register sayfasÄ±nada gitmemeli 7:00





****************************************
98. One To One Field Orm Ã–rneÄŸi   shell ekranÄ±ndayÄ±z

(teoman) grkmdgn06@ubuntu:~/Desktop/teoman$ python manage.py shell
Python 3.8.2 (default, Jul 16 2020, 14:00:26) 
[GCC 9.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from auths.models import UserProfile
>>> from django.contrib.auth.models import User
>>> user = User.objects.get(username='grkm')
>>> profil = UserProfile.objects.create(user=user,gender='erkek')
>>> user.profile
Traceback (most recent call last):
  File "<console>", line 1, in <module>
AttributeError: 'User' object has no attribute 'profile'
>>> user.userprofile
<UserProfile: GÃ¶rkem DOÄAN Profil>
>>> user.get_full_name()
'GÃ¶rkem DOÄAN'
>>> user.userprofile.get_screen_name()
'GÃ¶rkem DOÄAN'




****************************************
99. KullanÄ±cÄ± Profil SayfasÄ± Ders-1























